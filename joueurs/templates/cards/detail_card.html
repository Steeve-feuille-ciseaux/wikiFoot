{% extends 'base.html' %}
{% load static %}

{% block title %}Carte {{ carte.name }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {{ block.super }}
{% endblock %}

{% block body %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h1 class="h3 mb-0">{{ carte.name }} (#{{ carte.numero }})</h1>
                    <a href="{% url 'supprimer_carte' carte.pk %}" class="btn btn-danger">Supprimer</a>
                </div>

                <div class="card-body">
                    <div class="row mb-4">
                        <div class="col-md-4">
                            {% if carte.img %}
                                <img src="{{ carte.img.url }}"
                                     alt="Image de {{ carte.name }}"
                                     class="img-fluid rounded mb-3">
                            {% else %}
                                <div class="bg-light d-flex align-items-center justify-content-center" style="height: 250px;">
                                    <i class="fas fa-image fa-5x text-secondary"></i>
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-md-8">
                            <h5 class="text-primary">Informations générales</h5>
                            <p><strong>Joueur:</strong><br>
                                {% if carte.joueur %}
                                    {{ carte.joueur.last_name }} {{ carte.joueur.first_name }}
                                {% else %}
                                    Aucun joueur
                                {% endif %}
                            </p>
                            <p><strong>Position:</strong><br>{{ carte.position }}</p>
                            <p><strong>Numéro:</strong><br>{{ carte.numero }}</p>
                            <p><strong>Équipe:</strong><br>
                                {% if carte.club %}
                                    {{ carte.club.name }}
                                {% elif carte.national_team %}
                                    {{ carte.national_team.name }}
                                {% else %}
                                    Aucun
                                {% endif %}
                            </p>
                            <p><strong>Date du match:</strong><br>{{ carte.date|date:"d/m/Y H:i" }}</p>
                            <p><strong>Stade:</strong><br>{{ carte.stade }}</p>
                            <p><strong>Match:</strong><br>{{ carte.match }}</p>

                            <h5 class="text-primary mt-4">Résumé</h5>
                            <p>{{ carte.resume }}</p>

                            <h5 class="text-primary mt-4">Moves sélectionnés</h5>
                            <ul>
                            {% if carte.move_select1 %}
                                <li>{{ carte.move_select1.name }}</li>
                            {% endif %}
                            {% if carte.move_select2 %}
                                <li>{{ carte.move_select2.name }}</li>
                            {% endif %}
                            {% if carte.move_select3 %}
                                <li>{{ carte.move_select3.name }}</li>
                            {% endif %}
                            {% if carte.move_select4 %}
                                <li>{{ carte.move_select4.name }}</li>
                            {% endif %}
                            {% if carte.move_select5 %}
                                <li>{{ carte.move_select5.name }}</li>
                            {% endif %}
                            </ul>

                            <p><strong>Statut:</strong> {{ carte.statut|yesno:"Actif,Inactif" }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-3">
                <a href="{% url 'liste_carte' %}" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i> Retour à la liste
                </a>
                <a href="{% url 'modifier_carte' carte.pk %}" class="btn btn-warning ms-2">
                    <i class="fas fa-edit"></i> Modifier
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
